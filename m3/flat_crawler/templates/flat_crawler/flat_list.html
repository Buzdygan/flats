{% load static %}
{% load mathfilters %}

<head>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
    <link rel="stylesheet" type="text/css" href="{% static 'flat_crawler/style.css' %}">
<style>
    h1 {text-align: center;}
</style>
</head>

<h1> Ogłoszenia </h1>
<div class="flat-posts">
{% for flat in object_list %}
    <div class="flat-post">
        <div class="thumbnail">
            <img src="data:image/png;base64,{{ flat.thumbnail_image }}">
        </div>
        <div class="text">
            <div class="title">
                <a class="post-link" href="{{ flat.url}}">
                    {{ flat.heading|truncatechars:60 }}
                </a>
            </div>
            <div class="description"> {{ flat.desc|truncatewords:100 }} </div>
        </div>
        <div class="info">
            <span class="price-text"> {{ flat.price|div:1000|floatformat:'0' }} tys. zł </span>
            <div class="size"> {{ flat.size_m2 }} m2 </div>
            <div class="district"> {{ flat.district }} </div>
        </div>
    </div>
{% endfor %}
</div>

<div class="pagination">
    <span class="step-links">
        {% if page_obj.has_previous %}
            <a href="?page=1">&laquo; first</a>
            <a href="?page={{ page_obj.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
        </span>

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">next</a>
            <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
</div>